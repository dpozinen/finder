<!DOCTYPE html>
<html>
<head>
    <title>Finder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="/main.js"></script>
</head>
<body>
<noscript><h2 style="color: #ff0000">Seems your browser doesn't support Javascript! Websocket relies on Javascript. Please enable Javascript and reload this page!</h2></noscript>
<div id="main-content" class="container-fluid">
    <div class="row my-4 justify-content-center">
        <h3 class="text-monospace text-primary">
            Current progress
        </h3>
    </div>
    <div class="row my-4 justify-content-start text-white">
        <div class="col">
            <button class="btn btn-primary" id="stop" onclick="stop();">Stop</button>
            <button class="btn btn-primary" id="play" disabled onclick="play();">Play</button>
            <button class="btn btn-primary" id="pause" onclick="pause();">Pause</button>
            <button class="btn btn-primary" id="reset" onclick="reset();">Reset</button>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table id="table" class="table table-striped" style="table-layout:fixed;">
                <thead>
                <tr>
                    <th style="width: 90%">Url</th>
                    <th style="width: 5%">Level</th>
                    <th style="width: 5%">Status</th>
                </tr>
                </thead>
                <tbody id="pages">
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
<script>
$( document ).ready(function() {
    prepare();
});

function play() {
    sendPlay();
    fixButtons(['#pause', '#stop'], ['#play']);
}

function stop() {
    sendPause();
    fixButtons([], ['#play', '#pause', '#stop']);
}

function pause() {
    sendPause();
    fixButtons(['#play'], ['#pause']);
}

function reset() {
    sendReset();
    window.location.replace("/index.html");
}

function fixButtons(toEnable, toDisable) {
    toEnable.forEach(e => $(e).prop('disabled', false));
    toDisable.forEach(e => $(e).prop('disabled', true));
}

</script>
</html>
